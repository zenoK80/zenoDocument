---
title: "이상현상 (Anomaly)"
description: "데이터베이스에서 발생하는 삭제, 삽입, 갱신 이상현상의 종류와 원인"
slug: "database-anomaly"
sidebar_position: 3
---

# 이상현상 (Anomaly)

## 개요

이상현상(Anomaly)은 관계 스키마의 설계가 잘못되어 데이터베이스를 사용하는 과정에서 발생하는 예상치 못한 문제를 의미합니다. 데이터 중복으로 인해 삽입, 삭제, 갱신 작업 시 곤란한 상황이 발생할 수 있습니다.

## 이상현상의 정의

**관계 스키마의 설계가 잘못되면 불필요한 데이터 중복이 발생**하고, 이로 인해 릴레이션을 처리할 때 삽입, 삭제, 갱신 작업에서 잘못된 현상이 발생하게 됩니다.

## 이상현상의 종류

### 1. 삭제 이상 (Deletion Anomaly)

**정의**: 튜플을 삭제할 때 원래 유지되어야 하는 정보까지 함께 삭제되는 문제

**예시**:
```
수강 테이블
학번 | 과목번호 | 성적 | 학년
-----|----------|------|------
200  | C123     | A    | 3
```

- 학번 200번 학생이 과목 C123을 수강 취소하면
- 해당 학생이 3학년이라는 정보까지 함께 삭제됨
- 수강만 취소했을 뿐인데 학생 정보 자체가 사라지는 문제 발생

### 2. 삽입 이상 (Insertion Anomaly)

**정의**: 데이터를 삽입하려고 할 때 불필요하고 원하지 않는 데이터도 함께 삽입해야 하는 문제

**예시**:
```
수강 테이블 (기본키: 학번 + 과목번호)
학번 | 과목번호 | 성적 | 학년
-----|----------|------|------
```

- 학번 600번 학생(2학년)을 새로 등록하려고 함
- 기본키가 학번과 과목번호의 복합키이므로 과목번호도 필수
- 아직 수강 신청을 하지 않았는데도 **가짜 과목번호(위조 튜플)**를 입력해야만 학생 정보 삽입 가능

### 3. 갱신 이상 (Update Anomaly)

**정의**: 중복된 튜플 중 일부만 갱신되어 데이터 불일치가 발생하는 문제

**예시**:
```
수강 테이블
학번 | 과목번호 | 성적 | 학년
-----|----------|------|------
400  | C312     | A    | 4
400  | C324     | B    | 4
400  | C413     | A    | 4
400  | E412     | B    | 4
```

- 학번 400번 학생의 학년을 4학년에서 3학년으로 수정해야 함
- 4개의 레코드를 모두 수정해야 하는데 일부만 수정하면
- 같은 학생이 3학년이기도 하고 4학년이기도 한 **모순 발생**
- 정보의 일관성(Consistency)을 유지할 수 없음

## 이상현상의 원인

1. **속성 간 종속 관계를 무리하게 하나의 테이블로 통합**
   - 학생 정보와 수강 정보를 별도로 분리해야 하는데 하나로 합침
   - 서로 다른 개체 타입을 하나의 테이블에 저장

2. **데이터 중복**
   - 같은 정보가 여러 튜플에 반복 저장됨
   - 학생 정보가 수강하는 과목 수만큼 중복 저장

3. **잘못된 관계 스키마 설계**
   - 기본키 설정의 문제
   - 속성 간 종속성을 고려하지 않은 설계

## 이상현상의 해결 방법

**정규화(Normalization)**를 통해 해결합니다:

1. **속성 간 종속성 분석**
   - 학번 → 학년
   - (학번, 과목번호) → 성적

2. **테이블 분해**
   - 학생 테이블: 학번, 학년
   - 수강 테이블: 학번, 과목번호, 성적

3. **하나의 종속성을 하나의 릴레이션으로 분리**
   - 독립된 관계는 별도의 릴레이션으로 표현

## 요약

- 이상현상은 **삭제 이상**, **삽입 이상**, **갱신 이상** 세 가지 유형이 있음
- 관계 스키마의 잘못된 설계와 데이터 중복이 주요 원인
- **정규화 과정**을 통해 이상현상을 제거할 수 있음
- 정규화는 속성 간 종속성을 분석하여 테이블을 적절히 분해하는 과정
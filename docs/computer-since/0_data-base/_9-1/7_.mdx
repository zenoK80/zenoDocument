---
title: "역정규화 (Denormalization)"
description: "성능 향상을 위한 역정규화의 개념과 적용 시기"
slug: "denormalization"
sidebar_position: 7
---

# 역정규화 (Denormalization)

## 개요

역정규화(Denormalization)는 **성능 향상**을 목적으로 정규화된 테이블을 의도적으로 다시 통합하거나 중복을 허용하는 과정입니다.

## 역정규화의 정의

### 개념

**정규화로 분해된 릴레이션을 성능 향상을 위해 다시 통합하는 과정**

```
정규화:    테이블 분해 → 무결성 향상
역정규화:  테이블 통합 → 성능 향상
```

### 수행 시기

**물리적 설계 단계에서 수행**

```
설계 단계:
1. 개념적 설계: ERD
2. 논리적 설계: 정규화 ← 무결성 우선
3. 물리적 설계: 역정규화 ← 성능 고려
```

## 역정규화가 필요한 이유

### 정규화의 성능 문제

정규화된 데이터베이스는 조인 연산이 많아져 성능이 저하될 수 있습니다.

**조인이 많을수록:**
- CPU 사용량 증가
- 메모리 사용량 증가
- 디스크 I/O 증가
- 쿼리 실행 시간 증가

## 역정규화의 유형

### 1. 테이블 통합

분리된 테이블을 다시 합침

**적용 시나리오:**
- 1:1 관계의 테이블
- 항상 함께 조회되는 테이블
- 조회 빈도가 매우 높은 경우

### 2. 중복 컬럼 추가

자주 조인되는 컬럼을 복제

### 3. 파생 컬럼 추가

계산 결과를 미리 저장

### 4. 요약 테이블 추가

집계 결과를 별도 테이블로 저장

## 역정규화 시 주의사항

### 1. 데이터 무결성 관리

중복 데이터의 일관성 유지를 위해 트리거, 프로시저 등 추가 메커니즘 필요

### 2. 이상현상 재발 가능성

역정규화 후 갱신 이상, 삽입 이상, 삭제 이상이 재발할 수 있음

### 3. 저장 공간 증가

중복 데이터로 인한 저장 공간 증가

### 4. 개발 복잡도 증가

데이터 일관성 유지를 위한 추가 코드 필요

## 역정규화 의사결정 기준

### 역정규화를 고려해야 하는 경우

```
✅ 역정규화 적용:
- 조회 빈도가 매우 높은 테이블
- 조인이 5개 이상 필요한 쿼리
- 응답 시간이 매우 중요한 서비스
- 읽기:쓰기 비율이 100:1 이상
- 통계/집계 쿼리가 자주 실행됨

❌ 역정규화 지양:
- 갱신이 빈번한 테이블
- 트랜잭션이 복잡한 시스템
- 무결성이 매우 중요한 데이터
```

## 정규화 vs 역정규화 비교

| 항목 | 정규화 | 역정규화 |
|------|--------|----------|
| **단계** | 논리적 설계 | 물리적 설계 |
| **목적** | 무결성, 이상현상 제거 | 성능 향상 |
| **중복** | 최소화 | 허용 |
| **테이블 수** | 증가 | 감소 |
| **조인** | 많음 | 적음 |
| **조회 성능** | 저하 | 향상 |
| **갱신 복잡도** | 낮음 | 높음 |
| **저장 공간** | 적음 | 많음 |

## 요약

역정규화의 핵심:

1. **목적**: 성능 향상 (특히 조회 성능)
2. **시기**: 물리적 설계 단계
3. **방법**: 테이블 통합, 중복 허용, 파생 컬럼 추가
4. **대가**: 무결성 유지 복잡도 증가
5. **원칙**: 성능과 무결성의 균형점 찾기

**역정규화는 신중하게 적용해야 합니다.** 정규화로 무결성을 확보한 후, 실제 성능 문제가 발생하는 부분에 대해서만 선택적으로 역정규화를 적용하는 것이 바람직합니다.
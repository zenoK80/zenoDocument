---
title: "스키마 변환 및 정규화 원리"
description: "데이터베이스 스키마 변환의 기본 원리와 정규화를 위한 가이드라인"
slug: "schema-transformation-principles"
sidebar_position: 2
---

# 스키마 변환 및 정규화 원리

## 개요

스키마 변환은 이상현상을 해결하기 위해 하나의 릴레이션을 여러 개의 릴레이션으로 분해하는 과정입니다. 이 과정에서 반드시 지켜야 할 원칙들이 있습니다.

## 정규화의 기본 원칙

### 1. 정보 표현의 무손실 (Lossless Decomposition)

**정의**: 릴레이션을 분해할 때 원래의 정보가 손실되지 않아야 합니다.

```
원본 릴레이션 R
    ↓ 분해
R1 + R2
```

- 하나의 테이블을 두 개 이상으로 분해하더라도 **모든 정보가 보존**되어야 함
- 분해 전 데이터 = 분해 후 조인한 데이터
- 정보의 손실이 발생하면 안 됨

**예시**:
```
분해 전: 학생(학번, 이름, 학년, 과목, 성적)
분해 후: 
  - 학생정보(학번, 이름, 학년)
  - 수강정보(학번, 과목, 성적)
→ 조인하면 원래 정보 복원 가능
```

### 2. 중복 최소화 (Minimal Redundancy)

**정의**: 중복을 100% 제거할 수는 없으므로 최소한의 중복만 허용합니다.

- **중복이 많을수록 이상현상 발생 가능성 증가**
- 외래키를 통한 테이블 연결 시 필요한 중복만 허용
- 불필요한 중복은 전부 제거

**중복이 필요한 경우**:
```
학생정보(학번, 이름, 학년)
수강정보(학번, 과목, 성적)  ← 학번이 중복되지만 조인을 위해 필수
```

### 3. 분리의 원칙 (Separation Principle)

**정의**: 하나의 독립된 관계는 하나의 별도 릴레이션으로 분리해야 합니다.

이는 **종속성 보존(Dependency Preservation)**을 의미합니다.

**종속성 분석**:
- 학번 → 학년 (학생의 학번이 학년을 결정)
- (학번, 과목) → 성적 (학생과 과목이 성적을 결정)

**분리 결과**:
```
학생(학번, 학년)           ← 첫 번째 종속성
수강(학번, 과목, 성적)     ← 두 번째 종속성
```

## 스키마 변환 가이드라인

### 1. 다른 개체 타입 분리

**원칙**: 서로 다른 개체 타입을 하나의 테이블로 합치지 말 것

```
❌ 잘못된 예:
통합테이블(학생정보, 교수정보, 과목정보)

✅ 올바른 예:
학생테이블(학번, 이름, ...)
교수테이블(교수번호, 이름, ...)
과목테이블(과목번호, 과목명, ...)
```

### 2. 이상현상 방지

**원칙**: 중복이나 갱신 이상현상이 발생하지 않도록 설계

- 삽입 이상이 발생하지 않도록 기본키 설정
- 삭제 이상이 발생하지 않도록 정보 분리
- 갱신 이상이 발생하지 않도록 중복 제거

### 3. NULL 값 최소화

**원칙**: NULL 값이 가능한 한 발생하지 않도록 설계

```
❌ NULL이 많이 발생하는 설계:
직원(직원번호, 이름, 부서, 프로젝트1, 프로젝트2, 프로젝트3)
→ 프로젝트를 1개만 하면 프로젝트2, 프로젝트3는 NULL

✅ NULL을 최소화한 설계:
직원(직원번호, 이름, 부서)
프로젝트참여(직원번호, 프로젝트번호)
```

### 4. 위조 튜플 방지

**정의**: 스푸리어스 튜플(Spurious Tuple) - 거짓/가짜 튜플

**문제 상황**:
```
수강(학번, 과목번호, 성적, 학년)  ← 기본키: (학번, 과목번호)

새 학생 등록 시:
학번: 600, 학년: 2  ← 이것만 입력하고 싶음
하지만 과목번호가 기본키이므로 반드시 필요
→ 가짜 과목번호를 입력해야 함 (위조 튜플 발생)
```

**해결책**:
```
학생(학번, 학년)           ← 학생만 등록 가능
수강(학번, 과목번호, 성적) ← 수강 신청 시 등록
```

## 스키마 분해 과정

### 단계별 분해 방법

1. **속성 간 종속성 분석**
   - 어떤 속성이 어떤 속성을 결정하는지 파악

2. **종속성 그룹화**
   - 같은 결정자를 가진 종속성을 묶음

3. **릴레이션 분해**
   - 각 종속성 그룹을 별도의 릴레이션으로 분리

4. **외래키 설정**
   - 분해된 릴레이션 간 관계를 외래키로 연결

### 예시: 수강 테이블 분해

```
원본:
수강(학번, 과목번호, 성적, 학년)
기본키: (학번, 과목번호)

종속성 분석:
학번 → 학년
(학번, 과목번호) → 성적

분해 결과:
학생(학번, 학년)                    ← 학번이 기본키
수강(학번, 과목번호, 성적)          ← (학번, 과목번호)가 기본키
                                     학번은 외래키
```

## 정규화 vs 역정규화

| 구분 | 정규화 | 역정규화 |
|------|--------|----------|
| **목적** | 이상현상 제거, 무결성 유지 | 성능 향상 |
| **방법** | 테이블 분해 | 테이블 통합 |
| **수행 단계** | 논리적 설계 | 물리적 설계 |
| **장점** | 데이터 일관성, 중복 최소화 | 조인 연산 감소, 조회 속도 향상 |
| **단점** | 조인 연산 증가, 성능 저하 | 이상현상 발생 가능, 중복 증가 |

## 요약

스키마 변환의 핵심 원칙:

1. **무손실 분해**: 정보가 손실되지 않아야 함
2. **최소 중복**: 꼭 필요한 중복만 허용
3. **종속성 보존**: 각 종속성을 별도 릴레이션으로 분리
4. **이상현상 방지**: 설계 단계에서 이상현상 제거
5. **NULL 최소화**: 불필요한 NULL 값 방지
6. **위조 튜플 방지**: 가짜 데이터 입력 방지

이러한 원칙들을 따라 정규화를 수행하면 데이터베이스의 **논리적 품질**을 높이고 **이상현상을 효과적으로 제거**할 수 있습니다.
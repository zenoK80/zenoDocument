---
title: "데이터베이스 보안 기술의 도메인과 범위"
description: "데이터베이스 보안 기술의 도메인과 범위에 대해 초보자도 쉽게 이해할 수 있도록 설명합니다."
slug: "/database-access-control-security/1-database-security-domain"
sidebar_label: "보안 도메인"
date: "2026-02-21"
---

## 🔐 데이터베이스 보안이란 무엇인가?

우리가 일상에서 집 앞에 자물쇠를 달고, 금고에 비밀번호를 설정하듯이, **데이터베이스에도 보안 장치가 필요합니다.** 데이터베이스 보안이란 데이터베이스에 저장된 데이터를 **허가되지 않은 사용자의 접근, 변조, 삭제, 유출로부터 보호하는 모든 기술과 방법**을 의미합니다.

"보안"이라는 단어는 범위가 매우 넓습니다. 소프트웨어적인 보안도 있고, 네트워크 장비나 하드웨어에 대한 보안도 있으며, 우리가 이번에 다루는 **데이터베이스와 관련된 데이터 보안**도 있습니다. 이처럼 보안의 영역(도메인)은 소프트웨어, 하드웨어, 네트워크, 데이터베이스 등으로 나뉘며, 각 영역에 따라 보안의 범위와 방법이 달라집니다.

> 💡 **도메인(Domain)**이란 "영역" 또는 "범위"를 뜻합니다. 데이터베이스 보안의 도메인이란, 보안 기술이 적용되는 범위가 어디까지인지를 정의하는 개념입니다.

이번 문서에서는 **데이터베이스 보안의 도메인**을 중심으로, 보안 관리 방법, 주요 공격 유형, 접근제어 기법, 그리고 실제 SQL 명령어를 활용한 권한 관리까지 체계적으로 살펴보겠습니다.

---

## 🛡️ 데이터베이스 보안 관리 방법 3가지

데이터베이스 보안을 관리하는 핵심 방법은 크게 **접근제어**, **정보 흐름 제어**, **추론 제어** 세 가지로 나눌 수 있습니다. 각 방법이 왜 필요한지, 어떤 원리로 동작하는지 하나씩 살펴봅시다.

### 🚪 접근제어 (Access Control)

**왜 필요한가?** 아파트에 출입문이 있고, 출입 카드를 가진 사람만 들어갈 수 있는 것처럼, 데이터베이스에도 **허가된 사용자만 접근할 수 있도록 통제하는 장치**가 필요합니다. 접근제어가 없다면 누구나 마음대로 데이터를 열람하고 수정할 수 있어 심각한 보안 문제가 발생합니다.

사용자가 데이터베이스에 접근하는 경로는 다양합니다:

- **응용 프로그램**을 통해 접근 (예: 은행 앱, 쇼핑몰 앱)
- **웹 브라우저**를 통해 접근 (예: 네이버, 구글)
- **모바일 기기**를 통해 접근
- **직접 서버에 연결**하여 접근 (예: 관리자가 터미널로 직접 접속)

이 모든 경로에서 사용자가 **아이디와 패스워드**, **권한**, **역할** 등을 제대로 갖추고 있는지를 확인한 후에야 접근을 허용합니다. 마치 보안이 엄격한 건물에 들어갈 때 신분증을 보여주고, 지문 인식을 하고, 문이 열리는 것과 같은 원리입니다.

### 🌊 정보 흐름 제어 (Information Flow Control)

**왜 필요한가?** 접근 허가를 받은 뒤에도 문제가 끝나는 것이 아닙니다. 택배를 보낼 때 중간에 누군가가 택배 상자를 열어서 내용물을 바꿔치기할 수 있는 것처럼, **데이터가 서버와 사용자 사이를 오가는 과정에서도 보안 위협이 존재합니다.**

정보 흐름 제어란, 사용자가 요청한 데이터가 여러 서버와 네트워크를 거쳐 전달되는 과정에서 **권한이 부여되지 않은 데이터 사이에서 부당한 데이터 전달이 일어나지 않도록 통제하는 기술**입니다.

예를 들어, 여러분이 네이버에 로그인한 뒤 이메일을 확인하고, 카카오톡으로 친구에게 사진을 보내는 과정을 생각해 보세요. 이 모든 정보는 여러 서버를 거쳐 흘러갑니다. 만약 **해커가 이 정보의 흐름 중간에 끼어들어** 데이터를 가로채고, 내용을 **변조(내용을 바꿈)** 하거나 **위조(가짜로 만듦)** 해서 다시 집어넣는다면 어떻게 될까요? 받는 사람은 원래 정보가 아닌 조작된 정보를 받게 됩니다.

> 🔑 정보 흐름 제어는 마치 **편지를 보낼 때 봉인 도장을 찍어서, 중간에 누군가 열어봤는지 확인할 수 있게 하는 것**과 비슷합니다.

### 🔍 추론 제어 (Inference Control)

**왜 필요한가?** 직접 접근이 막혀 있더라도, 공개된 정보를 교묘하게 분석해서 숨겨진 비밀 정보를 알아낼 수 있습니다. 이것을 **추론(Inference)**이라고 합니다.

추론 제어란, **기존에 공개된 데이터(일반 데이터, 통계 데이터)를 분석하여 비공개 데이터(상세 데이터, 로데이터(Raw Data, 가공되지 않은 원본 데이터))를 역으로 알아내는 것을 방지하는 기술**입니다.

가장 대표적인 예가 **통계 추론**입니다. 어떤 회사에서 부서별 평균 연봉 데이터는 공개하지만, 개인별 연봉 데이터는 비공개로 관리한다고 가정합시다. 만약 한 부서에 직원이 2명뿐이라면, 평균 연봉과 한 명의 연봉을 알면 나머지 한 명의 연봉을 쉽게 계산할 수 있습니다. 이렇게 **통계 데이터를 역추적하여 개인 정보를 알아내는 것**이 통계 추론입니다.

추론을 막기 위한 방법은 다음과 같습니다:

- **데이터 분할**: 데이터를 여러 곳으로 나누어 저장하여 전체 그림을 파악하기 어렵게 만듦
- **중요 데이터 감추기**: 추론에 활용될 수 있는 핵심 데이터를 숨김
- **노이즈 데이터 삽입**: 의미 없는 가짜 데이터를 중간에 섞어 넣어 분석을 방해
- **다중 사료와 방법(다중 인스턴스화)**: 같은 질의에 대해 사용자 등급에 따라 다른 결과를 반환

:::info 세 가지 보안 관리 방법 비교
| 방법 | 핵심 개념 | 비유 |
|---|---|---|
| **접근제어** | 누가 들어올 수 있는지 통제 | 건물 출입 카드 |
| **정보 흐름 제어** | 데이터 이동 경로를 통제 | 택배 봉인 도장 |
| **추론 제어** | 공개 정보로 비밀 알아내기 방지 | 퍼즐 조각 흩어놓기 |
:::

---

## ⚔️ 데이터베이스 보안 공격의 3대 도메인

데이터베이스를 위협하는 공격은 크게 **네트워크 관련 공격**, **인증 프로세스 공격**, **SQL 인젝션** 세 가지 도메인으로 나눌 수 있습니다.

### 💥 네트워크 관련 공격: DDoS

**DDoS(Distributed Denial of Service Attack, 분산 서비스 거부 공격)**는 여러분도 뉴스에서 많이 들어보셨을 것입니다. 이 공격의 원리를 일상적인 비유로 설명해 보겠습니다.

놀이공원에 하루 최대 입장 가능 인원이 10,000명이라고 합시다. 그런데 누군가 의도적으로 50,000명을 동시에 몰려오게 만들면 어떻게 될까요? 입구가 마비되어 **정상적인 손님도 들어갈 수 없는 상태**가 됩니다. DDoS 공격이 바로 이것입니다.

**DDoS의 동작 원리:**

1. 해커가 전 세계의 컴퓨터에 **악성코드(Malware)**를 심어 **좀비 PC(해커의 명령을 듣는 감염된 컴퓨터)**로 만듭니다
2. 평소에 좀비 PC들은 아무 이상 없이 정상 작동합니다
3. 해커가 명령을 내리면, 수만~수십만 대의 좀비 PC가 **동시에 특정 서버에 접속 요청**을 보냅니다
4. 서버의 동시 접속자 한계를 초과하여 **서버가 과부하로 다운**됩니다
5. 정상적인 사용자도 서비스를 이용할 수 없게 됩니다

:::warning 내 컴퓨터도 좀비 PC가 될 수 있습니다!
다음과 같은 행동으로 악성코드에 감염될 수 있습니다:
- 불법 프로그램을 다운로드하여 설치하는 경우
- 무료 영화, 음악 등을 출처가 불분명한 사이트에서 다운로드하는 경우
- 의심스러운 웹사이트에 접속하는 경우
- SNS나 문자를 통해 받은 의심스러운 링크를 클릭하는 경우

본인은 전혀 모르는 사이에 악성코드가 설치되어 좀비 PC로 동작할 수 있습니다.
:::

**"그러면 서버 용량을 늘리면 해결되지 않나요?"** 라고 생각할 수 있습니다. 하지만 이것은 근본적인 해결책이 아닙니다. 동시 접속자 수를 2,000명에서 20,000명으로 늘리면, 해커는 20,000명 이상의 좀비 PC를 동원하면 그만이기 때문입니다.

**근본적인 DDoS 대응 방법:**
- 비정상적인 접속을 탐지하여 **강제로 세션(연결)을 종료**시키는 방법
- 별도의 **우회 경로(우회도로)**를 만들어 악성 트래픽을 걸러내는 방법
- **블록체인(데이터를 전 세계에 분산 저장하는 기술)** 기술을 활용하여 데이터를 분산 저장하는 방법 — 해커가 수십만 곳을 동시에 공격하는 것은 사실상 불가능하므로 효과적인 방어가 됩니다

### 🔓 인증 프로세스 공격

인증 프로세스 공격은 **사용자의 아이디와 패스워드를 검증하는 절차 자체를 무력화시키는 공격**입니다.

정상적인 경우, 사용자가 아이디와 패스워드를 입력하면 서버에서 이를 확인하고, 정상 사용자일 때만 접근을 허용합니다. 마치 공항 보안 검색대에서 여권과 탑승권을 확인하는 것과 같죠.

그런데 해커는 다음과 같은 방법으로 이 검증 절차를 우회합니다:

- **아이디·패스워드 변형**: 아이디나 패스워드가 없는데도 있는 것처럼 서버가 인식하게 조작
- **오류 유발**: 의도적으로 오류를 발생시켜 검증 과정을 건너뛰게 만듦
- **백도어(Back Door, 뒷문)**: 정상적인 인증 과정을 거치지 않고 몰래 들어갈 수 있는 비밀 통로를 설치
- **직접 공격**: 해커가 인증 없이 서버에 직접 침입

:::danger 백도어란?
건물의 정문에는 경비원이 있지만, 아무도 모르는 뒷문이 하나 있어서 그 문으로 들어오면 아무 검사도 받지 않고 들어올 수 있는 것과 같습니다. 해커가 시스템에 백도어를 설치해 두면, 나중에 언제든 인증 없이 들어올 수 있게 됩니다.
:::

### 💉 SQL 인젝션 (SQL Injection)

**SQL 인젝션(SQL 주입)**은 **SQL 코드 안에 악성 코드를 삽입하여 데이터베이스를 공격하는 기법**입니다. "인젝션(Injection)"이란 "주입"이라는 뜻으로, 좋은 의미가 아니라 **악성 코드를 SQL에 주입한다**는 의미입니다.

예를 들어, 다음과 같은 정상적인 SQL 문이 있다고 합시다:

```sql
-- 학생 테이블에서 ID가 100번인 학생의 정보를 검색하는 정상적인 쿼리
SELECT * FROM 학생 WHERE id = 100;
```

해커가 이 SQL 문의 입력값 `100`을 가로채서 다른 값으로 바꿔버리면, 원래 의도하지 않았던 정보가 유출될 수 있습니다. 더 심각한 경우, 데이터를 **수정(UPDATE)**, **삭제(DELETE)**, **삽입(INSERT)**까지 할 수 있어 피해가 막대합니다.

```sql
-- ❌ SQL 인젝션 공격의 예시: 입력값을 조작하여 모든 학생 정보를 유출
SELECT * FROM 학생 WHERE id = 100 OR 1=1;
-- 1=1은 항상 참(TRUE)이므로, 모든 학생의 정보가 조회되어 버립니다
```

```sql
-- ❌ 더 심각한 SQL 인젝션: 테이블 전체를 삭제
SELECT * FROM 학생 WHERE id = 100; DROP TABLE 학생;
-- 세미콜론 뒤에 테이블 삭제 명령을 몰래 붙여넣은 것입니다
```

> ⚠️ SQL 인젝션은 **공격 난이도가 낮지만 파괴력이 엄청나게 큰** 공격입니다. 코드만 중간에 가로챌 수 있으면 누구나 공격할 수 있기 때문입니다.

은행 계좌에 100만 원이 있었는데, SQL 인젝션으로 UPDATE 문이 실행되어 잔액이 0원이 되거나, 다른 계좌로 이체되어 버릴 수도 있습니다. 최근 뉴스에 나오는 금융 사고 중 상당수가 이런 SQL 인젝션과 관련이 있습니다.

**SQL 인젝션을 막는 방법:**
- **입력값 필터링**: 사용자가 입력한 데이터에 악성 코드가 포함되어 있는지 검사
- **이스케이핑(Escaping)**: 특수 문자를 무력화하여 SQL로 해석되지 않게 처리
- **시큐어 코딩(Secure Coding)**: 보안을 기반으로 한 프로그래밍 기법 적용
- **스캐닝 도구 및 코드 검증 프로그램**: 자동으로 취약점을 탐지

---

## 🏗️ 인증·권한·접근제어의 구성 요소

데이터베이스 보안의 핵심 개념으로 **Authentication(인증)**, **Authorization(권한 부여)**, **Access Control(접근제어)**, 그리고 추가로 **Confidentiality(기밀성)**, **Backup & Recovery(백업과 복구)**, **Audit(감사)**가 있습니다.

### 🔑 Authentication (인증)

**인증이란 "당신이 정말 당신이 맞나요?"를 확인하는 과정**입니다. 패스워드, 패턴, 지문 인식, 홍채 인식, 안면 인식 등 **생체 인식 기술**, 그리고 공인인증서와 같은 방법이 모두 여기에 포함됩니다.

스마트폰을 잠금 해제할 때 비밀번호를 누르거나 지문을 대는 것, 이것이 바로 인증입니다.

### 📋 Authorization (권한 부여)

**권한 부여란 "당신이 무엇을 할 수 있는지"를 정의하는 것**입니다. 어떤 사용자는 데이터를 **읽기(SELECT)**만 할 수 있고, 어떤 사용자는 **삽입(INSERT), 삭제(DELETE), 갱신(UPDATE)**까지 할 수 있습니다.

예를 들어, 대학교 수강 신청 시스템에서 학생은 수강 테이블에 INSERT(등록)와 DELETE(취소)는 할 수 있지만, 성적 테이블은 SELECT(조회)만 할 수 있는 것이 권한 부여입니다.

### 🚧 Access Control (접근제어)

**접근제어는 데이터 자체에 등급을 매기고, 사용자의 등급에 따라 볼 수 있는 범위를 다르게 설정하는 것**입니다.

국가 문서를 예로 들면:

| 문서 등급 | 설명 | 접근 가능자 |
|---|---|---|
| **극비(Top Secret)** | 최고 기밀 문서 | 최고 권한자만 |
| **비밀(Secret)** | 기밀 문서 | 고위 관리자 이상 |
| **대외비(Confidential)** | 내부용 문서 | 내부 직원 이상 |
| **일반(Unclassified)** | 공개 문서 | 누구나 |

### 🔒 Confidentiality (기밀성 — 암호화)

**데이터 자체에 암호를 걸어서, 해커가 중간에 데이터를 가로채더라도 내용을 볼 수 없도록 만드는 것**입니다. 편지를 보낼 때 암호문으로 써서, 받는 사람만 해독할 수 있게 하는 것과 같습니다.

### 💾 Backup & Recovery (백업과 복구)

데이터가 공격으로 손상되거나 삭제되었을 때, **미리 복사해 둔 데이터(백업)를 이용하여 원래 상태로 되돌리는 것(복구)**입니다. 보험과 같은 역할이라고 생각하면 됩니다.

### 📝 Audit (감사)

**로그 파일(시스템이 자동으로 기록하는 활동 이력)을 통해 누가, 언제, 어디서, 무엇을 했는지 나중에 확인하는 것**입니다.

예를 들어, 은행 직원이 고객의 계좌 정보를 불법적으로 조회했다면, 로그 기록에 "몇 월 며칠 몇 시 몇 분에, 어느 PC에서, 어떤 데이터를 검색했는지"가 모두 남아있습니다. 감사팀은 이 기록을 조사하여 부정 사용을 적발합니다.

---

## 🔐 접근제어 3대 기법: DAC, MAC, RBAC

접근제어를 구현하는 대표적인 기법은 **임의 접근제어(DAC)**, **강제 접근제어(MAC)**, **역할 기반 접근제어(RBAC)** 세 가지입니다.

### 📌 임의 접근제어 — DAC (Discretionary Access Control)

**DAC는 한마디로 "사용자에게 권한을 부여하는 것"**입니다. 데이터의 소유자가 자신의 재량(임의)으로 다른 사용자에게 접근 권한을 부여하거나 회수할 수 있습니다.

여러분이 윈도우 컴퓨터에 로그인할 때 아이디와 패스워드를 입력하는 것이 바로 DAC의 전형적인 예입니다. **구현이 쉽고** 주로 **운영체제(OS)**에서 많이 사용됩니다.

### 📌 강제 접근제어 — MAC (Mandatory Access Control)

**MAC는 "객체(데이터)에 등급을 부여하고, 사용자에게는 허가 등급을 부여하여 통제하는 것"**입니다. 사용자의 재량이 아니라, **시스템이 강제적으로 접근을 통제**합니다.

극비·비밀·대외비·일반 문서처럼 **문서에 비밀 등급을 부여**하고, 대통령은 극비까지 볼 수 있지만, 일반 직원은 일반 문서만 볼 수 있게 하는 방식입니다. **보안성이 가장 높으며**, 주로 **군사 기관, 정부 기관**에서 사용됩니다.

**벨-라파듈라 모델(Bell-LaPadula Model)**이라는 수학적 모델이 대표적이며, 이 모델에는 중요한 보안 규칙이 있습니다:

| 규칙 | 설명 | 비유 |
|---|---|---|
| **단순 보안 규칙** | 자신보다 **높은 등급**의 문서를 읽을 수 없음 | 일반 직원이 극비 문서를 못 봄 |
| **스타(\*) 무결성 규칙** | 자신보다 **낮은 등급**의 객체에 정보를 쓸 수 없음 | 과장이 사원 문서를 임의로 수정 불가 |
| **강한 스타 무결성 규칙** | 자신과 **같은 등급**의 객체만 읽고 쓸 수 있음 | 비밀 등급 사용자는 비밀 문서만 처리 |

:::tip 스타(*) 무결성 규칙이 왜 필요한가?
과장이 사원이 작성한 문서를 결재(읽기)는 할 수 있지만, 내용을 마음대로 고쳐버리면(쓰기) 나중에 심각한 문제가 생깁니다. 그래서 **아래 등급의 문서에는 쓰기를 금지**하는 것입니다.
:::

### 📌 역할 기반 접근제어 — RBAC (Role-Based Access Control)

**RBAC는 "사용자의 역할(직책, 직무)에 따라 권한을 부여하는 것"**입니다. 관리자, 팀장, 개발자, 대표 등 **역할에 따라 접근할 수 있는 데이터의 범위가 달라집니다.**

회사에서 인사팀 직원은 직원 정보를 볼 수 있지만 재무 데이터는 볼 수 없고, 재무팀 직원은 재무 데이터를 볼 수 있지만 인사 정보는 볼 수 없는 것이 RBAC입니다. 주로 **기업, 조직**에서 많이 사용되며, 역할의 생성(`CREATE ROLE`)과 삭제(`DROP ROLE`)가 가능하여 **구성 변경이 용이**합니다.

| 구분 | DAC (임의) | MAC (강제) | RBAC (역할) |
|---|---|---|---|
| **핵심 개념** | 사용자에게 권한 부여 | 객체에 등급 부여 | 역할에 따라 권한 부여 |
| **통제 주체** | 객체 소유자 | 시스템(강제) | 관리자 |
| **보안 수준** | 보통 | 매우 높음 | 높음 |
| **주요 사용처** | 운영체제 | 군사, 정부 | 기업, 조직 |
| **구현 난이도** | 쉬움 | 어려움 | 보통 |

### 역할 기반 접근제어의 구성 요소

RBAC를 이해하려면 4가지 구성 요소를 알아야 합니다:

- **주체(Subject)**: DB를 사용하는 사람 — 사용자, 응용 프로그램, 원격 컴퓨터 등
- **객체(Object)**: 보안의 대상 — 데이터베이스 전체, 테이블, 행(Row), 열(Column) 등
- **조치(Action)**: 주체가 객체에 할 수 있는 일 — 읽기, 쓰기, 기록 등
- **규칙(Rule)**: 조치에 대한 제약 조건 — 어떤 건 허용하고, 어떤 건 금지하는 조건

---

## 💻 GRANT와 REVOKE: 권한 부여·회수 명령어

데이터베이스에서 실제로 권한을 관리할 때 사용하는 SQL 명령어가 바로 **GRANT(권한 부여)**와 **REVOKE(권한 회수)**입니다.

### ✅ GRANT — 권한 부여하기

**GRANT 명령어의 기본 형식:**

```sql
-- 기본 문법: 특정 사용자에게 특정 테이블에 대한 권한을 부여
GRANT 권한종류 ON 테이블이름 TO 사용자계정;
```

**실제 예시를 하나씩 살펴봅시다:**

```sql
-- ✅ DBA가 U1에게 student 테이블의 삽입(INSERT), 삭제(DELETE) 권한을 부여
GRANT INSERT, DELETE ON student TO U1;
-- 설명: U1은 이제 student 테이블에 데이터를 추가하거나 삭제할 수 있습니다
-- 하지만 검색(SELECT)이나 수정(UPDATE)은 할 수 없습니다
```

```sql
-- ✅ DBA가 U2에게 student 테이블의 검색(SELECT) 권한을 WITH GRANT OPTION과 함께 부여
GRANT SELECT ON student TO U2 WITH GRANT OPTION;
-- 설명: U2는 student 테이블을 검색할 수 있습니다
-- WITH GRANT OPTION이 붙었으므로, U2는 자신의 SELECT 권한을 다른 사용자에게도 줄 수 있습니다!
```

:::info WITH GRANT OPTION이란?
**"내가 가진 권한을 다른 사람에게도 줄 수 있는 권한"**입니다. 마치 회사에서 부장이 과장에게 결재 권한을 위임할 수 있는 것과 같습니다. WITH GRANT OPTION이 없으면 본인만 해당 권한을 사용할 수 있고, 다른 사람에게 넘길 수 없습니다.

시스템 권한을 부여할 때는 `WITH ADMIN OPTION`을 사용하고, 일반 객체 권한을 부여할 때는 `WITH GRANT OPTION`을 사용합니다.
:::

### ❌ REVOKE — 권한 회수하기

**REVOKE 명령어의 기본 형식:**

```sql
-- 기본 문법: 특정 사용자로부터 특정 테이블에 대한 권한을 회수
REVOKE 권한종류 ON 테이블이름 FROM 사용자계정;
```

```sql
-- ✅ DBA가 U2로부터 student 테이블의 검색(SELECT) 권한을 회수 (CASCADE 적용)
REVOKE SELECT ON student FROM U2 CASCADE;
-- 설명: U2의 SELECT 권한이 제거됩니다
-- CASCADE가 붙었으므로, U2가 다른 사람(U3 등)에게 넘겨준 권한도 자동으로 함께 제거됩니다
```

> 💡 **CASCADE(연쇄)란?** 상위 권한이 없어지면 하위 권한도 자동으로 함께 없어지는 것입니다. 마치 도미노처럼, A → B → C로 권한이 전달되었는데 A의 권한이 사라지면 B와 C의 권한도 연쇄적으로 사라집니다.

:::warning WITH GRANT OPTION과 WITH ADMIN OPTION의 차이
- **WITH GRANT OPTION으로 부여된 권한**: 상위 권한이 REVOKE되면 하위 권한도 **자동으로(CASCADE 없이도) 함께 제거**됩니다
- **WITH ADMIN OPTION으로 부여된 권한**: 상위 권한이 REVOKE되어도 하위 권한은 **유지**됩니다
:::

### 📝 권한 부여·회수 종합 예시 (10단계)

아래 예시를 통해 GRANT와 REVOKE의 동작을 단계별로 확인해 봅시다:

```sql
-- ① U1이 U2에게 employee 테이블의 INSERT, DELETE 권한 부여
GRANT INSERT, DELETE ON employee TO U2;
-- ✅ 성공: U2는 employee 테이블에 삽입/삭제 가능
-- ⚠️ 단, WITH GRANT OPTION이 없으므로 U2는 이 권한을 다른 사람에게 줄 수 없음

-- ② U1이 U3에게 employee 테이블의 SELECT 권한을 WITH GRANT OPTION과 함께 부여
GRANT SELECT ON employee TO U3 WITH GRANT OPTION;
-- ✅ 성공: U3는 employee 테이블 검색 가능 + 다른 사람에게 SELECT 권한 전달 가능

-- ③ U2가 U4에게 employee 테이블의 INSERT 권한을 부여하려 함
GRANT INSERT ON employee TO U4;
-- ❌ 에러! U2에게는 WITH GRANT OPTION이 없으므로 다른 사용자에게 권한을 줄 수 없음

-- ④ U3가 U5에게 employee 테이블의 SELECT 권한 부여
GRANT SELECT ON employee TO U5;
-- ✅ 성공: U3에게 WITH GRANT OPTION이 있으므로 U5에게 SELECT 권한 전달 가능
-- ⚠️ U5에게는 WITH GRANT OPTION을 주지 않았음

-- ⑤ U5가 U6에게 employee 테이블의 SELECT 권한을 부여하려 함
GRANT SELECT ON employee TO U6;
-- ❌ 에러! U5에게는 WITH GRANT OPTION이 없으므로 다른 사용자에게 권한을 줄 수 없음

-- ⑥ U1이 U6에게 employee 테이블의 SELECT 권한 부여
GRANT SELECT ON employee TO U6;
-- ✅ 성공: U1은 원래 권한을 가진 사용자이므로 직접 U6에게 권한 부여 가능

-- ⑦ U1이 U3의 권한을 회수함
REVOKE SELECT ON employee FROM U3 CASCADE;
-- ✅ 성공: U3의 SELECT 권한 제거
-- ⚡ CASCADE 효과: U3가 U5에게 넘겨준 권한도 자동으로 제거됨!

-- ⑧ U6가 employee 테이블을 SELECT 함
SELECT * FROM employee;  -- U6가 실행
-- ✅ 성공: U6의 권한은 U1에게 직접 받은 것이므로, U3의 권한 회수와 무관하게 유지됨

-- ⑨ U5가 명령어를 실행하려 함
SELECT * FROM employee;  -- U5가 실행
-- ❌ 에러! U5의 권한은 U3로부터 받은 것이었는데, ⑦에서 U3의 권한이 회수되면서 함께 사라짐

-- ⑩ U6가 employee 테이블을 UPDATE 하려 함
UPDATE employee SET name = '홍길동' WHERE id = 1;  -- U6가 실행
-- ❌ 에러! U6는 SELECT 권한만 있고, UPDATE 권한은 없음
```

**각 단계를 정리하면:**

| 단계 | 명령어 | 결과 | 이유 |
|:---:|---|:---:|---|
| ① | U1 → U2에게 INSERT, DELETE 부여 | ✅ | 정상 권한 부여 |
| ② | U1 → U3에게 SELECT + WITH GRANT OPTION | ✅ | 권한 전달 가능하게 부여 |
| ③ | U2 → U4에게 INSERT 부여 시도 | ❌ | WITH GRANT OPTION 없음 |
| ④ | U3 → U5에게 SELECT 부여 | ✅ | WITH GRANT OPTION 있음 |
| ⑤ | U5 → U6에게 SELECT 부여 시도 | ❌ | WITH GRANT OPTION 없음 |
| ⑥ | U1 → U6에게 SELECT 부여 | ✅ | U1이 직접 부여 |
| ⑦ | U1이 U3 권한 회수 (CASCADE) | ✅ | U5 권한도 자동 제거 |
| ⑧ | U6가 SELECT 실행 | ✅ | U1에게 직접 받은 권한 유지 |
| ⑨ | U5가 SELECT 실행 시도 | ❌ | U3 권한 회수 시 함께 제거됨 |
| ⑩ | U6가 UPDATE 실행 시도 | ❌ | UPDATE 권한 없음 (SELECT만 있음) |

---

## 🧩 집계·추론·뷰를 활용한 보안

### 📊 집계 (Aggregation)

**집계란 낮은 등급의 정보들을 대량으로 수집하여, 높은 등급의 정보를 알아내는 것**입니다. 개별적으로는 보안 등급이 낮은 데이터이지만, 이것들을 모아서 종합하면 보안 등급이 높은 중요한 정보를 추출할 수 있습니다.

마치 퍼즐 조각 하나하나는 의미가 없지만, 모두 모으면 전체 그림이 보이는 것과 같습니다.

### 🧠 추론 (Inference)

앞서 설명한 대로, **보안 등급이 없는 일반 데이터를 분석하여 보안이 적용된 비공개 데이터를 유추하는 것**입니다. 추론을 방지하기 위한 방법들을 다시 정리하면:

- 데이터를 **분할**하여 저장
- 중요한 데이터를 **감추기**
- 추론하기 어렵도록 **불필요한 노이즈 데이터를 삽입**
- **다중 인스턴스화** 기법 적용

### 👁️ 뷰(View)를 활용한 보안

**뷰(View)**는 SQL에서 배우는 가상 테이블입니다. 전체 테이블에서 **필요한 부분만 보여주고 나머지는 감추는 역할**을 하기 때문에, **가장 쉽고 간단하게 보안을 관리할 수 있는 방법** 중 하나입니다.

```sql
-- ✅ 뷰를 활용한 보안 예시
-- 학생 테이블에서 이름과 학번만 보여주는 뷰를 생성 (성적, 주소 등은 감춤)
CREATE VIEW 학생_기본정보 AS
SELECT 학번, 이름 FROM 학생;
-- 이 뷰를 통해 접근하는 사용자는 학번과 이름만 볼 수 있고,
-- 성적이나 주소 같은 민감한 정보는 볼 수 없습니다
```

```sql
-- ❌ 뷰 없이 직접 테이블에 접근하면 모든 정보가 노출됨
SELECT * FROM 학생;
-- 학번, 이름, 성적, 주소, 전화번호 등 모든 정보가 조회됩니다
```

### 📋 권한 부여 테이블

실제로 권한은 **권한 부여 테이블(Authorization Table)**의 형태로 관리됩니다:

| 사용자 | 데이터 1 | 데이터 2 | 데이터 3 |
|---|---|---|---|
| U1 | 검색(SELECT)만 허용 | 접근 불가 | 검색(SELECT) + 갱신(UPDATE) |
| U2 | 접근 불가 | 접근 불가 | 접근 불가 |
| U3 | 접근 불가 | 검색(SELECT) + 갱신(UPDATE) | 접근 불가 |
| U4 | 접근 불가 | 접근 불가 | 접근 불가 |

이렇게 사용자별로 각 데이터에 대한 권한을 테이블 형태로 정리해 두면, 누가 어떤 데이터에 무엇을 할 수 있는지 한눈에 파악할 수 있습니다.

---

## ⚠️ 주의사항 및 실무 팁

### 실무에서 반드시 지켜야 할 보안 원칙

:::danger 절대 하면 안 되는 것들
1. **모든 사용자에게 모든 권한을 부여하지 마세요** — 최소 권한의 원칙(Principle of Least Privilege)을 지켜야 합니다. 필요한 권한만 최소한으로 부여하세요.
2. **WITH GRANT OPTION을 남발하지 마세요** — 권한의 연쇄 전달이 발생하면 관리가 매우 어려워집니다.
3. **SQL 쿼리에 사용자 입력값을 직접 넣지 마세요** — SQL 인젝션의 가장 큰 원인입니다. 반드시 Prepared Statement(미리 준비된 SQL문)나 파라미터 바인딩을 사용하세요.
:::

```sql
-- ❌ 잘못된 예시: 사용자 입력값을 SQL에 직접 삽입 (SQL 인젝션에 취약)
SELECT * FROM 학생 WHERE id = '사용자가_입력한_값';
-- 해커가 입력값에 악성 코드를 넣을 수 있습니다
```

```sql
-- ✅ 올바른 예시: Prepared Statement 사용 (SQL 인젝션 방어)
-- 물음표(?)는 파라미터 자리 표시자입니다
-- 프로그램에서 안전하게 값을 바인딩합니다
PREPARE stmt FROM 'SELECT * FROM 학생 WHERE id = ?';
-- 이렇게 하면 입력값이 SQL 코드로 해석되지 않고, 순수한 데이터로만 처리됩니다
```

:::tip 보안 관리 실무 팁
- **정기적으로 권한을 검토**하세요 — 퇴사자의 권한이 그대로 남아있는 경우가 의외로 많습니다
- **로그(감사 기록)를 주기적으로 확인**하세요 — 이상 징후를 조기에 발견할 수 있습니다
- **백업을 반드시 주기적으로** 수행하세요 — 최후의 보안 수단입니다
- **블록체인 등 최신 기술**을 활용한 분산 저장 방식도 적극 검토하세요
:::

---

## 📌 핵심 정리

- **데이터베이스 보안 도메인**은 보안 기술이 적용되는 범위를 정의하며, 소프트웨어·하드웨어·네트워크·데이터베이스 영역으로 구분된다
- **접근제어**는 사용자의 데이터베이스 접근을 ID, 패스워드, 권한 등으로 통제하는 방법이다
- **정보 흐름 제어**는 데이터가 전달되는 과정에서 부당한 전달이나 변조를 방지하는 방법이다
- **추론 제어**는 공개된 데이터(통계 등)로부터 비공개 데이터를 역추적하는 것을 방지하는 방법이다
- **DDoS(분산 서비스 거부 공격)**는 좀비 PC를 이용해 서버의 동시 접속 한계를 초과시켜 다운시키는 공격이다
- **SQL 인젝션**은 SQL 코드에 악성 코드를 삽입하여 데이터를 유출·변조·삭제하는 공격으로, 공격 난이도는 낮지만 파괴력이 매우 크다
- **DAC(임의 접근제어)**는 사용자에게 직접 권한을 부여하는 방식으로, 구현이 쉽다
- **MAC(강제 접근제어)**는 데이터에 보안 등급을 부여하고 사용자에게 허가 등급을 부여하는 방식으로, 보안성이 가장 높다
- **RBAC(역할 기반 접근제어)**는 사용자의 역할(직책)에 따라 권한을 관리하는 방식으로, 기업 환경에서 주로 사용된다
- **GRANT**는 권한을 부여하는 SQL 명령어이고, **REVOKE**는 권한을 회수하는 SQL 명령어이다
- **WITH GRANT OPTION**이 있으면 자신의 권한을 다른 사용자에게 전달할 수 있으며, 상위 권한이 회수되면 하위 권한도 자동으로(CASCADE) 함께 제거된다
- **뷰(View)**는 테이블의 일부만 보여주어 나머지를 감추는 가장 간단한 보안 방법이다
- **시큐어 코딩(Secure Coding)**을 통해 SQL 인젝션 등의 공격을 프로그래밍 단계에서 사전에 차단해야 한다

작성일: 2026-02-21